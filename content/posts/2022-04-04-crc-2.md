---
title: "CRC 2.0.1"
date: 2022-04-04T13:08:47+02:00
draft: true
---

# Intro

We recently released CRC 2.0.1 and we are excited to share some of the features we worked towards for this release.

About 6 months ago, we started experimenting with the crc code base to try various ideas we had (shipping a podman bundle, using an electron-based tray, …). This work was done in a side branch to not worry about potential breakage, and to be able to keep our 3 week release cycle.

With the 2.0.1 release, we’ve now merged that work back in the main branch, and made it available in a release.

Let’s take a closer look at what these major new features offer.

# Podman preset

A podman bundle would allow running linux container images on macOS and Windows. We already had the infrastructure to manage a VM on these platforms, so the main missing part was a leaner VM disk image with only what is needed to run podman containers. We’d then use podman remote connection support from macOS and Windows to manage this podman container runtime running in the virtual machine.

Along the way, we realized we had to change the way we distribute our releases and our bundles. Until now, we were providing single file downloads containing everything needed to run a crc instance. This includes the crc binary, various helper executables, and the OpenShift bundle. This meant very big downloads (3GB or more).
With 2 different bundle options, podman and OpenShift, it no longer makes sense to distribute crc as a single download. The bundle is now distributed separately from the crc executable. You can still download the bundle separately before first using crc if you want. If the bundle is missing, crc will download it automatically when it needs it.

With these changes in place, it’s now possible to run a podman runtime using crc:

```
$ crc config set preset podman
$ crc setup
$ crc start
$ …
$ podman run -it -p 8443:8443  registry.access.redhat.com/ubi8/httpd-24
$ curl -k https://localhost:8443

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN" "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
    <head>
        <title>Test Page for the HTTP Server on Red Hat Enterprise Linux</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />

[...]
```

# Electron-based system tray

With the 1.x releases of crc, we shipped native macOS and Windows system trays. However, these were quite costly to maintain. As they were written in 2 different languages, each modification to one of the tray had to be done in the other one as well, otherwise their UIs would get inconsistent.

Early during 2.x development, we decided to unify these codebases through the use of Electron and PatternFly. This allows us to have a single code base for the 2 tray implementations, and to ease their maintenance.
This new system tray even adds new features compared to the previous tray implementations:
- guided first-time setup after installing crc
- podman/OpenShift preset selection


![alt-text](/blog/2022-04-04-crc-2/configs.png)
![alt-text](/blog/2022-04-04-crc-2/ministatus.png)
![alt-text](/blog/2022-04-04-crc-2/onboarding_preset.png)
![alt-text](/blog/2022-04-04-crc-2/onboarding_welcome.png)
![alt-text](/blog/2022-04-04-crc-2/tray_menu.png)
